/*! api-smart-diff@0.2.0 */
var ApiSmartDiff=function(a){var i={};function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return a[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=a,r.c=i,r.d=function(e,n,a){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)r.d(a,i,function(e){return n[e]}.bind(null,i));return a},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=5)}([function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.breakingIfAfterTrue=a.breakingIf=a.allAnnotation=a.allUnclassified=a.addNonBreaking=a.onlyAddBreaking=a.allBreaking=a.allNonBreaking=a.unclassified=a.annotation=a.nonBreaking=a.breaking=void 0,a.breaking="breaking",a.nonBreaking="non-breaking",a.annotation="annotation",a.unclassified="unclassified",a.allNonBreaking=[a.nonBreaking,a.nonBreaking,a.nonBreaking],a.allBreaking=[a.breaking,a.breaking,a.breaking],a.onlyAddBreaking=[a.breaking,a.nonBreaking,a.nonBreaking],a.addNonBreaking=[a.nonBreaking,a.breaking,a.breaking],a.allUnclassified=[a.unclassified,a.unclassified,a.unclassified],a.allAnnotation=[a.annotation,a.annotation,a.annotation];a.breakingIf=e=>e?a.breaking:a.nonBreaking;a.breakingIfAfterTrue=(e,n)=>(0,a.breakingIf)(n)},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonSchemaRules=void 0;const i=a(0),r=[i.breaking,i.nonBreaking,(e,n)=>(0,i.breakingIf)(e<n)],t=[i.breaking,i.nonBreaking,(e,n)=>(0,i.breakingIf)(n<e)],o=[i.breakingIfAfterTrue,i.nonBreaking,(e,n)=>(0,i.breakingIf)(e<n)],l=[i.breakingIfAfterTrue,i.nonBreaking,i.breakingIfAfterTrue],s=[i.breaking,i.nonBreaking,(e,n)=>(0,i.breakingIf)(!!(e%n))];n.jsonSchemaRules=(e=i.allUnclassified)=>({"/":e,"/title":i.allAnnotation,"/multipleOf":s,"/maximum":r,"/exclusiveMaximum":o,"/minimum":t,"/exclusiveMinimum":o,"/maxLength":r,"/minLength":t,"/pattern":[i.breaking,i.nonBreaking,i.breaking],"/maxItems":r,"/minItems":t,"/uniqueItems":l,"/maxProperties":r,"/minProperties":t,"/required":{"/":i.onlyAddBreaking,"/*":[i.breaking,i.nonBreaking,i.breaking]},"/enum":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":[i.nonBreaking,i.breaking,i.breaking]},"/type":[i.breaking,i.nonBreaking,i.breaking],"/not":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,n.jsonSchemaRules)(i.allBreaking)},"/allOf":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,n.jsonSchemaRules)(i.allBreaking)},"/oneOf":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,n.jsonSchemaRules)(i.addNonBreaking)},"/anyOf":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,n.jsonSchemaRules)(i.addNonBreaking)},"/items":()=>(0,n.jsonSchemaRules)(),"/properties":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,n.jsonSchemaRules)()},"/additionalProperties":{"/":[i.breaking,i.breaking,i.breakingIfAfterTrue],"/*":()=>(0,n.jsonSchemaRules)(i.addNonBreaking)},"/description":i.allAnnotation,"/format":[i.breaking,i.nonBreaking,i.breaking],"/default":[i.nonBreaking,i.breaking,i.breaking],"/nullable":l,"/discriminator":{"/":i.allUnclassified,"/propertyName":i.allUnclassified,"/mapping":i.allUnclassified},"/readOnly":l,"/writeOnly":l,"/example":i.allAnnotation,"/externalDocs":i.allAnnotation,"/deprecated":l,"/xml":{"/":i.allUnclassified,"/name":i.allUnclassified,"/namespace":i.allUnclassified,"/prefix":i.allUnclassified,"/attribute":i.allUnclassified,"/wrapped":i.allUnclassified}})},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ActionType=void 0,(n=n.ActionType||(n.ActionType={})).add="add",n.remove="remove",n.replace="replace"},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.typeOf=void 0;n.typeOf=e=>Array.isArray(e)?"array":null==typeof e?"null":typeof e},function(e,n,a){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,n,a,i){void 0===i&&(i=a);var r=Object.getOwnPropertyDescriptor(n,a);r&&("get"in r?n.__esModule:!r.writable&&!r.configurable)||(r={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(e,i,r)}:function(e,n,a,i){e[i=void 0===i?a:i]=n[a]}),r=this&&this.__exportStar||function(e,n){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(n,a)||i(n,e,a)};Object.defineProperty(n,"__esModule",{value:!0}),r(a(10),n),r(a(11),n),r(a(1),n),r(a(0),n)},function(e,n,a){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,n,a,i){void 0===i&&(i=a);var r=Object.getOwnPropertyDescriptor(n,a);r&&("get"in r?n.__esModule:!r.writable&&!r.configurable)||(r={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(e,i,r)}:function(e,n,a,i){e[i=void 0===i?a:i]=n[a]}),r=this&&this.__exportStar||function(e,n){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(n,a)||i(n,e,a)};Object.defineProperty(n,"__esModule",{value:!0}),r(a(6),n),r(a(4),n),r(a(2),n)},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.apiDiff=void 0;const s=a(2),t=a(7),g=a(8),i=a(9),r=a(3);n.apiDiff=(e,n,a)=>k(e,n,new i.DiffContext(e,n,a));const k=(e,n,a,i=[])=>{if((0,r.typeOf)(e)!==(0,r.typeOf)(n))return[(0,g.classifyDiff)({path:i,before:e,after:n,action:s.ActionType.replace},a.rules)];switch((0,r.typeOf)(e)){case"string":return l(e,n,a,i);case"object":return f(e,n,a,i);case"array":return d(e,n,a,i);default:return e!==n?[(0,g.classifyDiff)({path:i,before:e,after:n,action:s.ActionType.replace},a.rules)]:[]}},o=(e,n)=>(e=n.trimStrings?e.trim():e,e=n.caseSensitive?e:e.toLowerCase()),l=(e,n,a,i)=>(e=o(e,a))!==(n=o(n,a))?[(0,g.classifyDiff)({path:i,before:e,after:n,action:s.ActionType.replace},a.rules)]:[],c=(e,n,a,i)=>{var r;return e.hasOwnProperty("$ref")&&(r=e.$ref,a.has(r)&&(e={$circularRef:r}),e=(0,t.dereference)(r,n,i),a.add(r)),e},f=(e,n,a,i)=>{const r=[],t=c(e,a.before,a.beforeRefs,a.cache),o=c(n,a.after,a.afterRefs,a.cache);for(const l of new Set([...Object.keys(t),...Object.keys(o)]))if("symbol"!=typeof l&&(t.hasOwnProperty(l)?o.hasOwnProperty(l)?r.push(...k(t[l],o[l],a,[...i,l])):r.push((0,g.classifyDiff)({path:[...i,l],before:t[l],action:s.ActionType.remove},a.rules)):r.push((0,g.classifyDiff)({path:[...i,l],after:o[l],action:s.ActionType.add},a.rules)),a.findFirstDiff&&r.length))break;return e.$ref&&a.beforeRefs.delete(e.$ref),n.$ref&&a.afterRefs.delete(n.$ref),r},d=(n,a,i,r)=>{const t=[],o=[...a];for(let e=0;e<n.length;e++){var l;if(i.strictArrays?e>=a.length?t.push((0,g.classifyDiff)({path:[...r,e],before:n[e],action:s.ActionType.remove},i.rules)):t.push(...k(n[e],a[e],i,[...r,e])):0<=(l=((n,a,i)=>{for(let e=0;e<a.length;e++){i.findFirstDiff=!0;var r=k(n,a[e],i);if(i.findFirstDiff=!1,!r.length)return e}return-1})(n[e],o,i))?o.splice(l,1):t.push((0,g.classifyDiff)({path:[...r,e],before:n[e],action:s.ActionType.remove},i.rules)),i.findFirstDiff&&t.length)break}i.strictArrays&&o.splice(0,n.length);for(let e=0;e<o.length;e++)t.push((0,g.classifyDiff)({path:[...r,n.length+e],after:o[e],action:s.ActionType.add},i.rules));return t}},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.dereference=void 0;const s=a(3);n.dereference=(e,n,a)=>{if(a.has(e))return a.get(e);const[i,r]=e.split("#");i&&a.has(i)&&(n=a.get(i));var[,...t]=r.split("/");let o=n;for(const l of t)o="array"===(0,s.typeOf)(o)?o[+l]:o[l];return a.set(e,o),o}},function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.classifyDiff=r.findClassifier=void 0;const t=n(0);r.findClassifier=(e,n)=>{let a=e;for(var i of[...n,""]){if(a.hasOwnProperty("/"+i)&&"number"!=typeof i||(i="*"),!a.hasOwnProperty("/"+i))return t.allUnclassified;{const r=a["/"+i];if(Array.isArray(r))return r;a="function"==typeof r?r():r}}return t.allUnclassified};r.classifyDiff=(e,n={})=>{const a=e;const i=(0,r.findClassifier)(n,e.path)[["add","remove","replace"].indexOf(e.action)];return a.type="function"==typeof i?i(e.before,e.after):i,a}},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DiffContext=void 0;const i=a(4);n.DiffContext=class{constructor(e,n,a){this.before=e,this.after=n,this.beforeRefs=new Set,this.afterRefs=new Set,this.cache=new Map,this.findFirstDiff=!1,this.rules="string"==typeof a.rules?this.getBaseRules(a.rules):a.rules,this.trimStrings=a.trimStrings,this.caseSensitive=a.caseSensitive,this.strictArrays=a.strictArrays;var i=a.externalRefs||{};for(const r of Object.keys(i))this.cache.set(r,i[r])}getBaseRules(e){switch(e){case"OpenApi3":return i.openapi3Rules;case"AsyncApi2":return i.asyncApi2Rules;case"JsonSchema":return(0,i.jsonSchemaRules)()}}}},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.asyncApi2Rules=n.messageRules=n.messageTraitsRules=void 0;const i=a(1);var a=a(0),r={"/":a.addNonBreaking,"/location":a.addNonBreaking,"/description":a.allAnnotation},t={"/summary":a.allAnnotation,"/tags":a.allAnnotation,"/externalDocs":a.allAnnotation,"/bindings":a.allUnclassified},o=Object.assign({"/":a.addNonBreaking,"/*":a.addNonBreaking,"/operationId":a.addNonBreaking,"/description":a.allAnnotation},t),r=(n.messageTraitsRules=Object.assign({"/":a.addNonBreaking,"/*":a.addNonBreaking,"/headers":a.allUnclassified,"/correlationId":r,"/schemaFormat":a.allBreaking,"/contentType":a.addNonBreaking,"/name":a.allNonBreaking,"/title":a.allNonBreaking,"/examples":a.allAnnotation},t),n.messageRules=Object.assign({"/":a.allBreaking,"/headers":a.allUnclassified,"/correlationId":r,"/schemaFormat":a.allBreaking,"/contentType":a.addNonBreaking,"/name":a.allNonBreaking,"/title":a.allNonBreaking,"/description":a.allNonBreaking,"/examples":a.allAnnotation,"/traits":n.messageTraitsRules,"/payload":(0,i.jsonSchemaRules)(a.allBreaking)},t),Object.assign({"/":a.addNonBreaking,"/operationId":a.addNonBreaking,"/description":a.allAnnotation,"/traits":o,"/message":n.messageRules},t)),o={"/":a.addNonBreaking,"/version":a.addNonBreaking,"/termsOfService":a.addNonBreaking,"/license":{"/":a.addNonBreaking,"/name":a.allBreaking,"/url":a.onlyAddBreaking},"/title":a.allAnnotation,"/description":a.allAnnotation,"/contact":{"/":a.allAnnotation,"/name":a.allAnnotation,"/url":a.allAnnotation,"/email":a.allAnnotation}},t={"/":a.addNonBreaking,"/*":{"/":a.addNonBreaking,"/url":a.addNonBreaking,"/description":a.allAnnotation,"/protocol":a.allBreaking,"/protocolVersion":a.allBreaking,"/variables":{"/":a.addNonBreaking,"/*":{"/":a.addNonBreaking,"/enum":{"/":a.addNonBreaking,"/*":a.addNonBreaking},"/default":a.allBreaking,"/description":a.allAnnotation,"/examples":a.allAnnotation}},"/security":{"/":a.allBreaking,"/*":a.allBreaking},"/bindings":a.allUnclassified}},r={"/":a.addNonBreaking,"/description":a.allNonBreaking,"/bindings":a.allUnclassified,"/subscribe":r,"/publish":r,"/parameters":{"/":a.allBreaking,"/*":{"/":a.addNonBreaking,"/description":a.allNonBreaking,"/schema":(0,i.jsonSchemaRules)(a.allBreaking),"/location":a.allBreaking}}};n.asyncApi2Rules={"/asyncapi":a.addNonBreaking,"/id":a.allAnnotation,"/defaultContentType":a.allBreaking,"/info":o,"/servers":t,"/channels":{"/":a.addNonBreaking,"/*":r},"/components":a.allNonBreaking,"/tags":a.allAnnotation,"/externalDocs":a.allAnnotation}},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.openapi3Rules=void 0;const i=a(1),r=a(0);var a={"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/url":[r.nonBreaking,r.breaking,r.breaking],"/description":r.allAnnotation,"/variables":{"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/enum":{"/":[r.nonBreaking,r.breaking,r.breaking],"/*":[r.nonBreaking,r.breaking,r.breaking]},"/default":[r.breaking,r.breaking,r.breaking],"/description":r.allAnnotation}}}},t={"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/name":[r.nonBreaking,r.breaking,r.breaking],"/in":[r.nonBreaking,r.breaking,r.breaking],"/description":r.allAnnotation,"/required":[r.breaking,r.nonBreaking,r.breakingIfAfterTrue],"/deprecated":[r.breaking,r.nonBreaking,r.breakingIfAfterTrue]}},o={"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/description":r.allAnnotation,"/required":[r.breaking,r.nonBreaking,r.breakingIfAfterTrue],"/deprecated":[r.breaking,r.nonBreaking,r.breakingIfAfterTrue]}},l={"/":[r.nonBreaking,r.nonBreaking,r.nonBreaking],"/*":{"/contentType":[r.nonBreaking,r.breaking,r.breaking],"/headers":o,"/style":[r.nonBreaking,r.breaking,r.breaking],"/explode":[r.nonBreaking,r.breaking,r.breaking],"/allowReserved":[r.nonBreaking,r.breaking,r.breaking]}},l={"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"*":{"/schema":(0,i.jsonSchemaRules)(r.allBreaking),"/example":r.allAnnotation,"/examples":r.allAnnotation,"/encoding":l}}},s={"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/description":r.allAnnotation,"/content":l,"/required":[r.breaking,r.nonBreaking,(e,n)=>n?r.breaking:r.nonBreaking]}},l={"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/description":r.allAnnotation,"/headers":o,"/content":l}},g={"/":[r.breaking,r.nonBreaking,r.unclassified],"/*":[r.breaking,r.nonBreaking,r.unclassified]},k={"/tags":r.allAnnotation,"/summary":r.allAnnotation,"/description":r.allAnnotation,"/externalDocs":r.allAnnotation,"/operationId":[r.nonBreaking,r.breaking,r.breaking],"/parameters":t,"/requestBody":s,"/responses":l,"/deprecated":[r.breaking,r.nonBreaking,r.breakingIfAfterTrue],"/security":g,"/servers":a};n.openapi3Rules={"/openapi":[r.nonBreaking,r.breaking,r.breaking],"/info":{"/":[r.nonBreaking,r.breaking,r.breaking],"/title":r.allAnnotation,"/description":r.allAnnotation,"/termsOfService":r.allAnnotation,"/contact":r.allAnnotation,"/licence":{"/":[r.nonBreaking,r.breaking,r.breaking],"/name":[r.breaking,r.breaking,r.breaking],"/url":[r.breaking,r.nonBreaking,r.nonBreaking]},"/version":r.allAnnotation},"/servers":a,"/paths":{"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/summary":r.allAnnotation,"/description":r.allAnnotation,"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/*":k},"/servers":a,"/parameters":t}},"/components":{"/":[r.nonBreaking,r.nonBreaking,r.nonBreaking],"/schemas":{"/":[r.nonBreaking,r.breaking,r.breaking],"/*":(0,i.jsonSchemaRules)(r.addNonBreaking)},"/responses":l,"/parameters":t,"/examples":r.allAnnotation,"/requestBodies":{"/":[r.nonBreaking,r.breaking,r.breaking],"/*":s},"/headers":o,"/securitySchemes":{"/":[r.breaking,r.nonBreaking,r.breaking],"/*":{"/":[r.breaking,r.nonBreaking,r.breaking],"/type":[r.breaking,r.nonBreaking,r.breaking],"/description":r.allAnnotation,"/name":[r.breaking,r.nonBreaking,r.breaking],"/in":[r.breaking,r.nonBreaking,r.breaking],"/scheme":[r.breaking,r.nonBreaking,r.breaking],"/bearerFormat":r.allAnnotation,"/flows":[r.breaking,r.nonBreaking,r.breaking],"/openIdConnectUrl":r.allAnnotation}}},"/security":g,"/tags":r.allAnnotation,"/externalDocs":r.allAnnotation}}]);