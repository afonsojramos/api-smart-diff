/*! api-smart-diff@0.1.0 */
var ApiSmartDiff=function(a){var i={};function r(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return a[n].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=a,r.c=i,r.d=function(n,e,a){r.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:a})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)r.d(a,i,function(n){return e[n]}.bind(null,i));return a},r.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(e,"a",e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p="",r(r.s=3)}([function(n,a,e){"use strict";var i;Object.defineProperty(a,"__esModule",{value:!0}),a.breakingIfAfterTrue=a.breakingIf=a.allAnnotation=a.allUnclassified=a.addNonBreaking=a.onlyAddBreaking=a.allBreaking=a.allNonBreaking=a.unclassified=a.annotation=a.nonBreaking=a.breaking=a.ActionType=void 0,(i=a.ActionType||(a.ActionType={})).add="add",i.remove="remove",i.replace="replace",a.breaking="breaking",a.nonBreaking="non-breaking",a.annotation="annotation",a.unclassified="unclassified",a.allNonBreaking=[a.nonBreaking,a.nonBreaking,a.nonBreaking],a.allBreaking=[a.breaking,a.breaking,a.breaking],a.onlyAddBreaking=[a.breaking,a.nonBreaking,a.nonBreaking],a.addNonBreaking=[a.nonBreaking,a.breaking,a.breaking],a.allUnclassified=[a.unclassified,a.unclassified,a.unclassified],a.allAnnotation=[a.annotation,a.annotation,a.annotation],a.breakingIf=n=>n?a.breaking:a.nonBreaking;a.breakingIfAfterTrue=(n,e)=>(0,a.breakingIf)(e)},function(n,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsonSchemaRules=void 0;const i=a(0),r=[i.breaking,i.nonBreaking,(n,e)=>(0,i.breakingIf)(n<e)],o=[i.breaking,i.nonBreaking,(n,e)=>(0,i.breakingIf)(e<n)],t=[i.breakingIfAfterTrue,i.nonBreaking,(n,e)=>(0,i.breakingIf)(n<e)],l=[i.breakingIfAfterTrue,i.nonBreaking,i.breakingIfAfterTrue],s=[i.breaking,i.nonBreaking,(n,e)=>(0,i.breakingIf)(!!(n%e))];e.jsonSchemaRules=(n=i.allUnclassified)=>({"/":n,"/title":i.allAnnotation,"/multipleOf":s,"/maximum":r,"/exclusiveMaximum":t,"/minimum":o,"/exclusiveMinimum":t,"/maxLength":r,"/minLength":o,"/pattern":[i.breaking,i.nonBreaking,i.breaking],"/maxItems":r,"/minItems":o,"/uniqueItems":l,"/maxProperties":r,"/minProperties":o,"/required":{"/":i.onlyAddBreaking,"/*":[i.breaking,i.nonBreaking,i.breaking]},"/enum":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":[i.nonBreaking,i.breaking,i.breaking]},"/type":[i.breaking,i.nonBreaking,i.breaking],"/not":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,e.jsonSchemaRules)(i.allBreaking)},"/allOf":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,e.jsonSchemaRules)(i.allBreaking)},"/oneOf":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,e.jsonSchemaRules)(i.addNonBreaking)},"/anyOf":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,e.jsonSchemaRules)(i.addNonBreaking)},"/items":()=>(0,e.jsonSchemaRules)(),"/properties":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,e.jsonSchemaRules)()},"/additionalProperties":{"/":[i.breaking,i.breaking,i.breakingIfAfterTrue],"/*":()=>(0,e.jsonSchemaRules)(i.addNonBreaking)},"/description":i.allAnnotation,"/format":[i.breaking,i.nonBreaking,i.breaking],"/default":[i.nonBreaking,i.breaking,i.breaking],"/nullable":l,"/discriminator":{"/":i.allUnclassified,"/propertyName":i.allUnclassified,"/mapping":i.allUnclassified},"/readOnly":l,"/writeOnly":l,"/example":i.allAnnotation,"/externalDocs":i.allAnnotation,"/deprecated":l,"/xml":{"/":i.allUnclassified,"/name":i.allUnclassified,"/namespace":i.allUnclassified,"/prefix":i.allUnclassified,"/attribute":i.allUnclassified,"/wrapped":i.allUnclassified}})},function(n,e,a){"use strict";var i=this&&this.__createBinding||(Object.create?function(n,e,a,i){void 0===i&&(i=a);var r=Object.getOwnPropertyDescriptor(e,a);r&&("get"in r?e.__esModule:!r.writable&&!r.configurable)||(r={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(n,i,r)}:function(n,e,a,i){n[i=void 0===i?a:i]=e[a]}),r=this&&this.__exportStar||function(n,e){for(var a in n)"default"===a||Object.prototype.hasOwnProperty.call(e,a)||i(e,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(a(7),e),r(a(8),e),r(a(1),e)},function(n,e,a){"use strict";var i=this&&this.__createBinding||(Object.create?function(n,e,a,i){void 0===i&&(i=a);var r=Object.getOwnPropertyDescriptor(e,a);r&&("get"in r?e.__esModule:!r.writable&&!r.configurable)||(r={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(n,i,r)}:function(n,e,a,i){n[i=void 0===i?a:i]=e[a]}),r=this&&this.__exportStar||function(n,e){for(var a in n)"default"===a||Object.prototype.hasOwnProperty.call(e,a)||i(e,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(a(4),e),r(a(2),e),r(a(0),e)},function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.apiDiff=o.syncApiDiff=void 0;const i=e(5),r=e(6),t=e(2);o.syncApiDiff=(n,e,a)=>{a="string"==typeof a?(n=>{switch(n){case"OpenApi3":return t.openapi3Rules;case"AsyncApi2":return t.asyncApi2Rules;case"JsonSchema":return(0,t.jsonSchemaRules)()}})(a):a;n=(0,r.jsonDiff)(n,e);return(0,i.classifyDiff)(a,n)};o.apiDiff=(a,i,r)=>new Promise((n,e)=>{try{n((0,o.syncApiDiff)(a,i,r))}catch(n){e(n)}})},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.classifyDiff=r.findClassifier=void 0;const o=e(0);r.findClassifier=(n,e)=>{let a=n;for(var i of[...e,""]){if(a.hasOwnProperty("/"+i)&&"number"!=typeof i||(i="*"),!a.hasOwnProperty("/"+i))return o.allUnclassified;{const r=a["/"+i];if(Array.isArray(r))return r;a="function"==typeof r?r():r}}return o.allUnclassified};r.classifyDiff=(n,e)=>{for(const a of e){const i=(0,r.findClassifier)(n,a.path)[["add","remove","replace"].indexOf(a.action)];"function"==typeof i?a.type=i(a.before,a.after):a.type=i}return e}},function(n,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.jsonDiff=void 0;const g=e(0),r=n=>Array.isArray(n)?"array":null==typeof n?"null":typeof n;s.jsonDiff=(n,e,a,i=[])=>{if(r(n)!==r(e))return[{path:i,before:n,after:e,action:g.ActionType.replace}];switch(r(n)){case"string":return o(n,e,a,i);case"object":return l(n,e,a,i);case"array":return k(n,e,a,i);default:return n!==e?[{path:i,before:n,after:e,action:g.ActionType.replace}]:[]}};const o=(n,e,a,i=[])=>{return t(n,a)!==t(e,a)?[{path:i,before:n,after:e,action:g.ActionType.replace}]:[]},t=(n,e)=>(n=null!=e&&e.trimStrings?n.trim():n,n=null!=e&&e.caseSensitive?n:n.toLowerCase()),l=(n,e,a,i=[])=>{const r=[];for(const o of new Set([...Object.keys(n),...Object.keys(e)]))if("symbol"!=typeof o&&(n.hasOwnProperty(o)?e.hasOwnProperty(o)?r.push(...(0,s.jsonDiff)(n[o],e[o],a,[...i,o])):r.push({path:[...i,o],before:n[o],after:void 0,action:g.ActionType.remove}):r.push({path:[...i,o],before:void 0,after:e[o],action:g.ActionType.add}),null!=a&&a.findFirstDiff&&r.length))break;return r},k=(e,a,i,r=[])=>{const o=[],t=[...a];for(let n=0;n<e.length;n++){var l;if(null!=i&&i.strictArrays?n>=a.length?o.push({path:[...r,n],before:e[n],after:void 0,action:g.ActionType.remove}):o.push(...(0,s.jsonDiff)(e[n],a[n],i,[...r,n])):0<=(l=((e,a,i)=>{for(let n=0;n<a.length;n++)if(!(0,s.jsonDiff)(e,a[n],Object.assign(Object.assign({},i),{findFirstDiff:!0})).length)return n;return-1})(e[n],t,i))?t.splice(l,1):o.push({path:[...r,n],before:e[n],after:void 0,action:g.ActionType.remove}),null!=i&&i.findFirstDiff&&o.length)break}null!=i&&i.strictArrays&&t.splice(0,e.length);for(let n=0;n<t.length;n++)o.push({path:[...r,e.length+n],before:void 0,after:t[n],action:g.ActionType.add});return o}},function(n,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asyncApi2Rules=e.messageRules=e.messageTraitsRules=void 0;var i=a(0);const r=a(1);var a={"/":i.addNonBreaking,"/location":i.addNonBreaking,"/description":i.allAnnotation},o={"/summary":i.allAnnotation,"/tags":i.allAnnotation,"/externalDocs":i.allAnnotation,"/bindings":i.allUnclassified},t=Object.assign({"/":i.addNonBreaking,"/*":i.addNonBreaking,"/operationId":i.addNonBreaking,"/description":i.allAnnotation},o),a=(e.messageTraitsRules=Object.assign({"/":i.addNonBreaking,"/*":i.addNonBreaking,"/headers":i.allUnclassified,"/correlationId":a,"/schemaFormat":i.allBreaking,"/contentType":i.addNonBreaking,"/name":i.allNonBreaking,"/title":i.allNonBreaking,"/examples":i.allAnnotation},o),e.messageRules=Object.assign({"/":i.allBreaking,"/headers":i.allUnclassified,"/correlationId":a,"/schemaFormat":i.allBreaking,"/contentType":i.addNonBreaking,"/name":i.allNonBreaking,"/title":i.allNonBreaking,"/description":i.allNonBreaking,"/examples":i.allAnnotation,"/traits":e.messageTraitsRules,"/payload":(0,r.jsonSchemaRules)(i.allBreaking)},o),Object.assign({"/":i.addNonBreaking,"/operationId":i.addNonBreaking,"/description":i.allAnnotation,"/traits":t,"/message":e.messageRules},o)),t={"/":i.addNonBreaking,"/version":i.addNonBreaking,"/termsOfService":i.addNonBreaking,"/license":{"/":i.addNonBreaking,"/name":i.allBreaking,"/url":i.onlyAddBreaking},"/title":i.allAnnotation,"/description":i.allAnnotation,"/contact":{"/":i.allAnnotation,"/name":i.allAnnotation,"/url":i.allAnnotation,"/email":i.allAnnotation}},o={"/":i.addNonBreaking,"/*":{"/":i.addNonBreaking,"/url":i.addNonBreaking,"/description":i.allAnnotation,"/protocol":i.allBreaking,"/protocolVersion":i.allBreaking,"/variables":{"/":i.addNonBreaking,"/*":{"/":i.addNonBreaking,"/enum":{"/":i.addNonBreaking,"/*":i.addNonBreaking},"/default":i.allBreaking,"/description":i.allAnnotation,"/examples":i.allAnnotation}},"/security":{"/":i.allBreaking,"/*":i.allBreaking},"/bindings":i.allUnclassified}},a={"/":i.addNonBreaking,"/description":i.allNonBreaking,"/bindings":i.allUnclassified,"/subscribe":a,"/publish":a,"/parameters":{"/":i.allBreaking,"/*":{"/":i.addNonBreaking,"/description":i.allNonBreaking,"/schema":(0,r.jsonSchemaRules)(i.allBreaking),"/location":i.allBreaking}}};e.asyncApi2Rules={"/asyncapi":i.addNonBreaking,"/id":i.allAnnotation,"/defaultContentType":i.allBreaking,"/info":t,"/servers":o,"/channels":{"/":i.addNonBreaking,"/*":a},"/components":i.allNonBreaking,"/tags":i.allAnnotation,"/externalDocs":i.allAnnotation}},function(n,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.openapi3Rules=void 0;const i=a(0),r=a(1);var a={"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/url":[i.nonBreaking,i.breaking,i.breaking],"/description":i.allAnnotation,"/variables":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/enum":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":[i.nonBreaking,i.breaking,i.breaking]},"/default":[i.breaking,i.breaking,i.breaking],"/description":i.allAnnotation}}}},o={"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/name":[i.nonBreaking,i.breaking,i.breaking],"/in":[i.nonBreaking,i.breaking,i.breaking],"/description":i.allAnnotation,"/required":[i.breaking,i.nonBreaking,i.breakingIfAfterTrue],"/deprecated":[i.breaking,i.nonBreaking,i.breakingIfAfterTrue]}},t={"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/description":i.allAnnotation,"/required":[i.breaking,i.nonBreaking,i.breakingIfAfterTrue],"/deprecated":[i.breaking,i.nonBreaking,i.breakingIfAfterTrue]}},l={"/":[i.nonBreaking,i.nonBreaking,i.nonBreaking],"/*":{"/contentType":[i.nonBreaking,i.breaking,i.breaking],"/headers":t,"/style":[i.nonBreaking,i.breaking,i.breaking],"/explode":[i.nonBreaking,i.breaking,i.breaking],"/allowReserved":[i.nonBreaking,i.breaking,i.breaking]}},l={"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"*":{"/schema":(0,r.jsonSchemaRules)(i.allBreaking),"/example":i.allAnnotation,"/examples":i.allAnnotation,"/encoding":l}}},s={"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/description":i.allAnnotation,"/content":l,"/required":[i.breaking,i.nonBreaking,(n,e)=>e?i.breaking:i.nonBreaking]}},l={"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/description":i.allAnnotation,"/headers":t,"/content":l}},g={"/":[i.breaking,i.nonBreaking,i.unclassified],"/*":[i.breaking,i.nonBreaking,i.unclassified]},k={"/tags":i.allAnnotation,"/summary":i.allAnnotation,"/description":i.allAnnotation,"/externalDocs":i.allAnnotation,"/operationId":[i.nonBreaking,i.breaking,i.breaking],"/parameters":o,"/requestBody":s,"/responses":l,"/deprecated":[i.breaking,i.nonBreaking,i.breakingIfAfterTrue],"/security":g,"/servers":a};e.openapi3Rules={"/openapi":[i.nonBreaking,i.breaking,i.breaking],"/info":{"/":[i.nonBreaking,i.breaking,i.breaking],"/title":i.allAnnotation,"/description":i.allAnnotation,"/termsOfService":i.allAnnotation,"/contact":i.allAnnotation,"/licence":{"/":[i.nonBreaking,i.breaking,i.breaking],"/name":[i.breaking,i.breaking,i.breaking],"/url":[i.breaking,i.nonBreaking,i.nonBreaking]},"/version":i.allAnnotation},"/servers":a,"/paths":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/summary":i.allAnnotation,"/description":i.allAnnotation,"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":k},"/servers":a,"/parameters":o}},"/components":{"/":[i.nonBreaking,i.breaking,i.breaking],"/schemas":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":(0,r.jsonSchemaRules)(i.addNonBreaking)},"/responses":l,"/parameters":o,"/examples":i.allAnnotation,"/requestBodies":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":s},"/headers":t,"/securitySchemes":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":{"/":[i.breaking,i.nonBreaking,i.breaking],"/type":[i.breaking,i.nonBreaking,i.breaking],"/description":i.allAnnotation,"/name":[i.breaking,i.nonBreaking,i.breaking],"/in":[i.breaking,i.nonBreaking,i.breaking],"/scheme":[i.breaking,i.nonBreaking,i.breaking],"/bearerFormat":i.allAnnotation,"/flows":[i.breaking,i.nonBreaking,i.breaking],"/openIdConnectUrl":i.allAnnotation}}},"/security":g,"/tags":i.allAnnotation,"/externalDocs":i.allAnnotation}}]);