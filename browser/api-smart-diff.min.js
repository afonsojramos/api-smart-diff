/*! api-smart-diff@0.1.0 */
var ApiSmartDiff=function(a){var i={};function r(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return a[n].call(e.exports,e,e.exports,r),e.l=!0,e.exports}return r.m=a,r.c=i,r.d=function(n,e,a){r.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:a})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)r.d(a,i,function(n){return e[n]}.bind(null,i));return a},r.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(e,"a",e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p="",r(r.s=4)}([function(n,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.breakingIfAfterTrue=a.breakingIf=a.allAnnotation=a.allUnclassified=a.addNonBreaking=a.onlyAddBreaking=a.allBreaking=a.allNonBreaking=a.unclassified=a.annotation=a.nonBreaking=a.breaking=void 0,a.breaking="breaking",a.nonBreaking="non-breaking",a.annotation="annotation",a.unclassified="unclassified",a.allNonBreaking=[a.nonBreaking,a.nonBreaking,a.nonBreaking],a.allBreaking=[a.breaking,a.breaking,a.breaking],a.onlyAddBreaking=[a.breaking,a.nonBreaking,a.nonBreaking],a.addNonBreaking=[a.nonBreaking,a.breaking,a.breaking],a.allUnclassified=[a.unclassified,a.unclassified,a.unclassified],a.allAnnotation=[a.annotation,a.annotation,a.annotation];a.breakingIf=n=>n?a.breaking:a.nonBreaking;a.breakingIfAfterTrue=(n,e)=>(0,a.breakingIf)(e)},function(n,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsonSchemaRules=void 0;const i=a(0),r=[i.breaking,i.nonBreaking,(n,e)=>(0,i.breakingIf)(n<e)],o=[i.breaking,i.nonBreaking,(n,e)=>(0,i.breakingIf)(e<n)],t=[i.breakingIfAfterTrue,i.nonBreaking,(n,e)=>(0,i.breakingIf)(n<e)],l=[i.breakingIfAfterTrue,i.nonBreaking,i.breakingIfAfterTrue],s=[i.breaking,i.nonBreaking,(n,e)=>(0,i.breakingIf)(!!(n%e))];e.jsonSchemaRules=(n=i.allUnclassified)=>({"/":n,"/title":i.allAnnotation,"/multipleOf":s,"/maximum":r,"/exclusiveMaximum":t,"/minimum":o,"/exclusiveMinimum":t,"/maxLength":r,"/minLength":o,"/pattern":[i.breaking,i.nonBreaking,i.breaking],"/maxItems":r,"/minItems":o,"/uniqueItems":l,"/maxProperties":r,"/minProperties":o,"/required":{"/":i.onlyAddBreaking,"/*":[i.breaking,i.nonBreaking,i.breaking]},"/enum":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":[i.nonBreaking,i.breaking,i.breaking]},"/type":[i.breaking,i.nonBreaking,i.breaking],"/not":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,e.jsonSchemaRules)(i.allBreaking)},"/allOf":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,e.jsonSchemaRules)(i.allBreaking)},"/oneOf":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,e.jsonSchemaRules)(i.addNonBreaking)},"/anyOf":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,e.jsonSchemaRules)(i.addNonBreaking)},"/items":()=>(0,e.jsonSchemaRules)(),"/properties":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":()=>(0,e.jsonSchemaRules)()},"/additionalProperties":{"/":[i.breaking,i.breaking,i.breakingIfAfterTrue],"/*":()=>(0,e.jsonSchemaRules)(i.addNonBreaking)},"/description":i.allAnnotation,"/format":[i.breaking,i.nonBreaking,i.breaking],"/default":[i.nonBreaking,i.breaking,i.breaking],"/nullable":l,"/discriminator":{"/":i.allUnclassified,"/propertyName":i.allUnclassified,"/mapping":i.allUnclassified},"/readOnly":l,"/writeOnly":l,"/example":i.allAnnotation,"/externalDocs":i.allAnnotation,"/deprecated":l,"/xml":{"/":i.allUnclassified,"/name":i.allUnclassified,"/namespace":i.allUnclassified,"/prefix":i.allUnclassified,"/attribute":i.allUnclassified,"/wrapped":i.allUnclassified}})},function(n,e,a){"use strict";var i=this&&this.__createBinding||(Object.create?function(n,e,a,i){void 0===i&&(i=a);var r=Object.getOwnPropertyDescriptor(e,a);r&&("get"in r?e.__esModule:!r.writable&&!r.configurable)||(r={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(n,i,r)}:function(n,e,a,i){n[i=void 0===i?a:i]=e[a]}),r=this&&this.__exportStar||function(n,e){for(var a in n)"default"===a||Object.prototype.hasOwnProperty.call(e,a)||i(e,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(a(6),e),r(a(7),e),r(a(1),e),r(a(0),e)},function(n,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionType=void 0,(e=e.ActionType||(e.ActionType={})).add="add",e.remove="remove",e.replace="replace"},function(n,e,a){"use strict";var i=this&&this.__createBinding||(Object.create?function(n,e,a,i){void 0===i&&(i=a);var r=Object.getOwnPropertyDescriptor(e,a);r&&("get"in r?e.__esModule:!r.writable&&!r.configurable)||(r={enumerable:!0,get:function(){return e[a]}}),Object.defineProperty(n,i,r)}:function(n,e,a,i){n[i=void 0===i?a:i]=e[a]}),r=this&&this.__exportStar||function(n,e){for(var a in n)"default"===a||Object.prototype.hasOwnProperty.call(e,a)||i(e,n,a)};Object.defineProperty(e,"__esModule",{value:!0}),r(a(5),e),r(a(2),e),r(a(3),e)},function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.apiDiff=o.syncApiDiff=void 0;const i=e(2),r=e(8);o.syncApiDiff=(n,e,a)=>(a="string"==typeof a?(n=>{switch(n){case"OpenApi3":return i.openapi3Rules;case"AsyncApi2":return i.asyncApi2Rules;case"JsonSchema":return(0,i.jsonSchemaRules)()}})(a):a,(0,r.jsonDiff)(n,e,{rules:a}));o.apiDiff=(a,i,r)=>new Promise((n,e)=>{try{n((0,o.syncApiDiff)(a,i,r))}catch(n){e(n)}})},function(n,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.asyncApi2Rules=e.messageRules=e.messageTraitsRules=void 0;const i=a(1);var a=a(0),r={"/":a.addNonBreaking,"/location":a.addNonBreaking,"/description":a.allAnnotation},o={"/summary":a.allAnnotation,"/tags":a.allAnnotation,"/externalDocs":a.allAnnotation,"/bindings":a.allUnclassified},t=Object.assign({"/":a.addNonBreaking,"/*":a.addNonBreaking,"/operationId":a.addNonBreaking,"/description":a.allAnnotation},o),r=(e.messageTraitsRules=Object.assign({"/":a.addNonBreaking,"/*":a.addNonBreaking,"/headers":a.allUnclassified,"/correlationId":r,"/schemaFormat":a.allBreaking,"/contentType":a.addNonBreaking,"/name":a.allNonBreaking,"/title":a.allNonBreaking,"/examples":a.allAnnotation},o),e.messageRules=Object.assign({"/":a.allBreaking,"/headers":a.allUnclassified,"/correlationId":r,"/schemaFormat":a.allBreaking,"/contentType":a.addNonBreaking,"/name":a.allNonBreaking,"/title":a.allNonBreaking,"/description":a.allNonBreaking,"/examples":a.allAnnotation,"/traits":e.messageTraitsRules,"/payload":(0,i.jsonSchemaRules)(a.allBreaking)},o),Object.assign({"/":a.addNonBreaking,"/operationId":a.addNonBreaking,"/description":a.allAnnotation,"/traits":t,"/message":e.messageRules},o)),t={"/":a.addNonBreaking,"/version":a.addNonBreaking,"/termsOfService":a.addNonBreaking,"/license":{"/":a.addNonBreaking,"/name":a.allBreaking,"/url":a.onlyAddBreaking},"/title":a.allAnnotation,"/description":a.allAnnotation,"/contact":{"/":a.allAnnotation,"/name":a.allAnnotation,"/url":a.allAnnotation,"/email":a.allAnnotation}},o={"/":a.addNonBreaking,"/*":{"/":a.addNonBreaking,"/url":a.addNonBreaking,"/description":a.allAnnotation,"/protocol":a.allBreaking,"/protocolVersion":a.allBreaking,"/variables":{"/":a.addNonBreaking,"/*":{"/":a.addNonBreaking,"/enum":{"/":a.addNonBreaking,"/*":a.addNonBreaking},"/default":a.allBreaking,"/description":a.allAnnotation,"/examples":a.allAnnotation}},"/security":{"/":a.allBreaking,"/*":a.allBreaking},"/bindings":a.allUnclassified}},r={"/":a.addNonBreaking,"/description":a.allNonBreaking,"/bindings":a.allUnclassified,"/subscribe":r,"/publish":r,"/parameters":{"/":a.allBreaking,"/*":{"/":a.addNonBreaking,"/description":a.allNonBreaking,"/schema":(0,i.jsonSchemaRules)(a.allBreaking),"/location":a.allBreaking}}};e.asyncApi2Rules={"/asyncapi":a.addNonBreaking,"/id":a.allAnnotation,"/defaultContentType":a.allBreaking,"/info":t,"/servers":o,"/channels":{"/":a.addNonBreaking,"/*":r},"/components":a.allNonBreaking,"/tags":a.allAnnotation,"/externalDocs":a.allAnnotation}},function(n,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.openapi3Rules=void 0;const i=a(1),r=a(0);var a={"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/url":[r.nonBreaking,r.breaking,r.breaking],"/description":r.allAnnotation,"/variables":{"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/enum":{"/":[r.nonBreaking,r.breaking,r.breaking],"/*":[r.nonBreaking,r.breaking,r.breaking]},"/default":[r.breaking,r.breaking,r.breaking],"/description":r.allAnnotation}}}},o={"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/name":[r.nonBreaking,r.breaking,r.breaking],"/in":[r.nonBreaking,r.breaking,r.breaking],"/description":r.allAnnotation,"/required":[r.breaking,r.nonBreaking,r.breakingIfAfterTrue],"/deprecated":[r.breaking,r.nonBreaking,r.breakingIfAfterTrue]}},t={"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/description":r.allAnnotation,"/required":[r.breaking,r.nonBreaking,r.breakingIfAfterTrue],"/deprecated":[r.breaking,r.nonBreaking,r.breakingIfAfterTrue]}},l={"/":[r.nonBreaking,r.nonBreaking,r.nonBreaking],"/*":{"/contentType":[r.nonBreaking,r.breaking,r.breaking],"/headers":t,"/style":[r.nonBreaking,r.breaking,r.breaking],"/explode":[r.nonBreaking,r.breaking,r.breaking],"/allowReserved":[r.nonBreaking,r.breaking,r.breaking]}},l={"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"*":{"/schema":(0,i.jsonSchemaRules)(r.allBreaking),"/example":r.allAnnotation,"/examples":r.allAnnotation,"/encoding":l}}},s={"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/description":r.allAnnotation,"/content":l,"/required":[r.breaking,r.nonBreaking,(n,e)=>e?r.breaking:r.nonBreaking]}},l={"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/description":r.allAnnotation,"/headers":t,"/content":l}},g={"/":[r.breaking,r.nonBreaking,r.unclassified],"/*":[r.breaking,r.nonBreaking,r.unclassified]},k={"/tags":r.allAnnotation,"/summary":r.allAnnotation,"/description":r.allAnnotation,"/externalDocs":r.allAnnotation,"/operationId":[r.nonBreaking,r.breaking,r.breaking],"/parameters":o,"/requestBody":s,"/responses":l,"/deprecated":[r.breaking,r.nonBreaking,r.breakingIfAfterTrue],"/security":g,"/servers":a};e.openapi3Rules={"/openapi":[r.nonBreaking,r.breaking,r.breaking],"/info":{"/":[r.nonBreaking,r.breaking,r.breaking],"/title":r.allAnnotation,"/description":r.allAnnotation,"/termsOfService":r.allAnnotation,"/contact":r.allAnnotation,"/licence":{"/":[r.nonBreaking,r.breaking,r.breaking],"/name":[r.breaking,r.breaking,r.breaking],"/url":[r.breaking,r.nonBreaking,r.nonBreaking]},"/version":r.allAnnotation},"/servers":a,"/paths":{"/":[r.nonBreaking,r.breaking,r.breaking],"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/summary":r.allAnnotation,"/description":r.allAnnotation,"/*":{"/":[r.nonBreaking,r.breaking,r.breaking],"/*":k},"/servers":a,"/parameters":o}},"/components":{"/":[r.nonBreaking,r.nonBreaking,r.nonBreaking],"/schemas":{"/":[r.nonBreaking,r.breaking,r.breaking],"/*":(0,i.jsonSchemaRules)(r.addNonBreaking)},"/responses":l,"/parameters":o,"/examples":r.allAnnotation,"/requestBodies":{"/":[r.nonBreaking,r.breaking,r.breaking],"/*":s},"/headers":t,"/securitySchemes":{"/":[r.breaking,r.nonBreaking,r.breaking],"/*":{"/":[r.breaking,r.nonBreaking,r.breaking],"/type":[r.breaking,r.nonBreaking,r.breaking],"/description":r.allAnnotation,"/name":[r.breaking,r.nonBreaking,r.breaking],"/in":[r.breaking,r.nonBreaking,r.breaking],"/scheme":[r.breaking,r.nonBreaking,r.breaking],"/bearerFormat":r.allAnnotation,"/flows":[r.breaking,r.nonBreaking,r.breaking],"/openIdConnectUrl":r.allAnnotation}}},"/security":g,"/tags":r.allAnnotation,"/externalDocs":r.allAnnotation}},function(n,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.jsonDiff=void 0;const g=e(3),k=e(9),r=n=>Array.isArray(n)?"array":null==typeof n?"null":typeof n;s.jsonDiff=(n,e,a,i=[])=>{if(r(n)!==r(e))return[(0,k.classifyDiff)({path:i,before:n,after:e,action:g.ActionType.replace},null==a?void 0:a.rules)];switch(r(n)){case"string":return o(n,e,a,i);case"object":return l(n,e,a,i);case"array":return c(n,e,a,i);default:return n!==e?[(0,k.classifyDiff)({path:i,before:n,after:e,action:g.ActionType.replace},null==a?void 0:a.rules)]:[]}};const o=(n,e,a,i=[])=>{return t(n,a)!==t(e,a)?[(0,k.classifyDiff)({path:i,before:n,after:e,action:g.ActionType.replace},null==a?void 0:a.rules)]:[]},t=(n,e)=>(n=null!=e&&e.trimStrings?n.trim():n,n=null!=e&&e.caseSensitive?n:n.toLowerCase()),l=(n,e,a,i=[])=>{const r=[];for(const o of new Set([...Object.keys(n),...Object.keys(e)]))if("symbol"!=typeof o&&(n.hasOwnProperty(o)?e.hasOwnProperty(o)?r.push(...(0,s.jsonDiff)(n[o],e[o],a,[...i,o])):r.push((0,k.classifyDiff)({path:[...i,o],before:n[o],action:g.ActionType.remove},null==a?void 0:a.rules)):r.push((0,k.classifyDiff)({path:[...i,o],after:e[o],action:g.ActionType.add},null==a?void 0:a.rules)),null!=a&&a.findFirstDiff&&r.length))break;return r},c=(e,a,i,r=[])=>{const o=[],t=[...a];for(let n=0;n<e.length;n++){var l;if(null!=i&&i.strictArrays?n>=a.length?o.push((0,k.classifyDiff)({path:[...r,n],before:e[n],action:g.ActionType.remove},null==i?void 0:i.rules)):o.push(...(0,s.jsonDiff)(e[n],a[n],i,[...r,n])):0<=(l=((e,a,i)=>{for(let n=0;n<a.length;n++)if(!(0,s.jsonDiff)(e,a[n],Object.assign(Object.assign({},i),{findFirstDiff:!0})).length)return n;return-1})(e[n],t,i))?t.splice(l,1):o.push((0,k.classifyDiff)({path:[...r,n],before:e[n],action:g.ActionType.remove},null==i?void 0:i.rules)),null!=i&&i.findFirstDiff&&o.length)break}null!=i&&i.strictArrays&&t.splice(0,e.length);for(let n=0;n<t.length;n++)o.push((0,k.classifyDiff)({path:[...r,e.length+n],after:t[n],action:g.ActionType.add},null==i?void 0:i.rules));return o}},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.classifyDiff=r.findClassifier=void 0;const o=e(0);r.findClassifier=(n,e)=>{let a=n;for(var i of[...e,""]){if(a.hasOwnProperty("/"+i)&&"number"!=typeof i||(i="*"),!a.hasOwnProperty("/"+i))return o.allUnclassified;{const r=a["/"+i];if(Array.isArray(r))return r;a="function"==typeof r?r():r}}return o.allUnclassified};r.classifyDiff=(n,e={})=>{const a=n;const i=(0,r.findClassifier)(e,n.path)[["add","remove","replace"].indexOf(n.action)];return a.type="function"==typeof i?i(n.before,n.after):i,a}}]);