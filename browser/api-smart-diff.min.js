/*! api-smart-diff@0.2.3 */
var ApiSmartDiff=function(a){var r={};function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return a[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=a,i.c=r,i.d=function(e,n,a){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(n,e){if(1&e&&(n=i(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)i.d(a,r,function(e){return n[e]}.bind(null,r));return a},i.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="",i(i.s=4)}([function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.breakingIfAfterTrue=a.breakingIf=a.allAnnotation=a.allUnclassified=a.addNonBreaking=a.onlyAddBreaking=a.allBreaking=a.allNonBreaking=a.unclassified=a.annotation=a.nonBreaking=a.breaking=void 0,a.breaking="breaking",a.nonBreaking="non-breaking",a.annotation="annotation",a.unclassified="unclassified",a.allNonBreaking=[a.nonBreaking,a.nonBreaking,a.nonBreaking],a.allBreaking=[a.breaking,a.breaking,a.breaking],a.onlyAddBreaking=[a.breaking,a.nonBreaking,a.nonBreaking],a.addNonBreaking=[a.nonBreaking,a.breaking,a.breaking],a.allUnclassified=[a.unclassified,a.unclassified,a.unclassified],a.allAnnotation=[a.annotation,a.annotation,a.annotation];a.breakingIf=e=>e?a.breaking:a.nonBreaking;a.breakingIfAfterTrue=(e,n)=>(0,a.breakingIf)(n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findExternalRefs=t.buildPath=t.parsePath=t.typeOf=void 0;t.typeOf=e=>Array.isArray(e)?"array":null==typeof e?"null":typeof e,t.parsePath=e=>{var[,...e]=e.split("/").map(e=>e.replace(new RegExp("~1","g"),"/"));return e},t.buildPath=e=>"/"+e.map(e=>String(e).replace(new RegExp("/","g"),"~1")).join("/");t.findExternalRefs=e=>{if("object"!=typeof e)return[];let n=new Set;if("array"===(0,t.typeOf)(e))for(const r of e)"object"==typeof r&&(n=new Set([...n,...(0,t.findExternalRefs)(r)]));else for(const i of Object.keys(e)){var a;"$ref"===i?([a]=e[i].split("#"),n.add(a)):"object"==typeof e[i]&&(n=new Set([...n,...(0,t.findExternalRefs)(e[i])]))}return[...n]}},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ActionType=void 0,(n=n.ActionType||(n.ActionType={})).add="add",n.remove="remove",n.replace="replace"},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.jsonSchemaRules=void 0;const r=a(0),i=[r.breaking,r.nonBreaking,(e,n)=>(0,r.breakingIf)(n<e)],t=[r.breaking,r.nonBreaking,(e,n)=>(0,r.breakingIf)(e<n)],o=[r.breakingIfAfterTrue,r.nonBreaking,r.breakingIfAfterTrue],s=[r.breakingIfAfterTrue,r.nonBreaking,r.breakingIfAfterTrue],l=[r.breaking,r.nonBreaking,(e,n)=>(0,r.breakingIf)(!!(e%n))];n.jsonSchemaRules=(e=r.allUnclassified)=>({"/":e,"/title":r.allAnnotation,"/multipleOf":l,"/maximum":i,"/exclusiveMaximum":o,"/minimum":t,"/exclusiveMinimum":o,"/maxLength":i,"/minLength":t,"/pattern":[r.breaking,r.nonBreaking,r.breaking],"/maxItems":i,"/minItems":t,"/uniqueItems":s,"/maxProperties":i,"/minProperties":t,"/required":{"/":r.onlyAddBreaking,"/*":[r.breaking,r.nonBreaking,r.breaking]},"/enum":{"/":[r.breaking,r.nonBreaking,r.breaking],"/*":[r.nonBreaking,r.breaking,r.breaking]},"/type":[r.breaking,r.nonBreaking,r.breaking],"/not":{"/":[r.breaking,r.nonBreaking,r.breaking],"/*":()=>(0,n.jsonSchemaRules)(r.allBreaking)},"/allOf":{"/":[r.breaking,r.nonBreaking,r.breaking],"/*":()=>(0,n.jsonSchemaRules)(r.allBreaking)},"/oneOf":{"/":[r.breaking,r.nonBreaking,r.breaking],"/*":()=>(0,n.jsonSchemaRules)(r.addNonBreaking)},"/anyOf":{"/":[r.breaking,r.nonBreaking,r.breaking],"/*":()=>(0,n.jsonSchemaRules)(r.addNonBreaking)},"/items":()=>(0,n.jsonSchemaRules)(r.addNonBreaking),"/properties":{"/":[r.breaking,r.nonBreaking,r.breaking],"/*":()=>(0,n.jsonSchemaRules)(r.addNonBreaking)},"/additionalProperties":()=>(0,n.jsonSchemaRules)([r.breaking,r.breaking,r.breakingIfAfterTrue]),"/description":r.allAnnotation,"/format":[r.breaking,r.nonBreaking,r.breaking],"/default":[r.nonBreaking,r.breaking,r.breaking],"/nullable":s,"/discriminator":{"/":r.allUnclassified,"/propertyName":r.allUnclassified,"/mapping":r.allUnclassified},"/readOnly":s,"/writeOnly":s,"/example":r.allAnnotation,"/externalDocs":r.allAnnotation,"/deprecated":s,"/xml":{"/":r.allUnclassified,"/name":r.allUnclassified,"/namespace":r.allUnclassified,"/prefix":r.allUnclassified,"/attribute":r.allUnclassified,"/wrapped":r.allUnclassified}})},function(e,n,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,n,a,r){void 0===r&&(r=a);var i=Object.getOwnPropertyDescriptor(n,a);i&&("get"in i?n.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(e,r,i)}:function(e,n,a,r){e[r=void 0===r?a:r]=n[a]}),i=this&&this.__exportStar||function(e,n){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(n,a)||r(n,e,a)},t=(Object.defineProperty(n,"__esModule",{value:!0}),n.findExternalRefs=void 0,i(a(5),n),i(a(9),n),i(a(2),n),i(a(12),n),a(1));Object.defineProperty(n,"findExternalRefs",{enumerable:!0,get:function(){return t.findExternalRefs}})},function(e,g,n){"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.findDiff=g.apiDiff=void 0;const c=n(2),f=n(6),k=n(7),r=n(8),o=n(1);g.apiDiff=(e,n,a)=>(0,g.findDiff)(e,n,new r.DiffContext(e,n,a));g.findDiff=(e,n,a,r=[])=>{var i;if((0,o.typeOf)(e)!==(0,o.typeOf)(n))return i={path:r,before:e,after:n,action:c.ActionType.replace},[(0,k.classifyDiff)(i,a.rules)];switch((0,o.typeOf)(e)){case"object":return l(e,n,a,r);case"array":return d(e,n,a,r);default:"string"===(0,o.typeOf)(e)&&(e=s(e,a),n=s(n,a));var t={path:r,before:e,after:n,action:c.ActionType.replace};return e!==n?[(0,k.classifyDiff)(t,a.rules)]:[]}};const s=(e,n)=>(e=n.trimStrings?e.trim():e,e=n.caseSensitive?e:e.toLowerCase()),l=(e,n,a,r)=>{const i=[],t=(0,f.dereference)(e,a.before,a.beforeRefs,a.cache),o=(0,f.dereference)(n,a.after,a.afterRefs,a.cache);var s;for(const l of new Set([...Object.keys(t),...Object.keys(o)]))if("symbol"!=typeof l)if(t.hasOwnProperty(l)?o.hasOwnProperty(l)?i.push(...(0,g.findDiff)(t[l],o[l],a,[...r,l])):(s={path:[...r,l],before:t[l],action:c.ActionType.remove},i.push((0,k.classifyDiff)(s,a.rules))):(s={path:[...r,l],after:o[l],action:c.ActionType.add},i.push((0,k.classifyDiff)(s,a.rules))),a.findFirstDiff&&i.length)break;return e.$ref&&a.beforeRefs.delete(e.$ref),n.$ref&&a.afterRefs.delete(n.$ref),i},d=(n,a,r,i)=>{const t=[],o=[...a];for(let e=0;e<n.length;e++){var s,l;if(r.strictArrays?e>=a.length?(s={path:[...i,e],before:n[e],action:c.ActionType.remove},t.push((0,k.classifyDiff)(s,r.rules))):t.push(...(0,g.findDiff)(n[e],a[e],r,[...i,e])):0<=(s=((n,a,r)=>{for(let e=0;e<a.length;e++){r.findFirstDiff=!0;var i=(0,g.findDiff)(n,a[e],r);if(r.findFirstDiff=!1,!i.length)return e}return-1})(n[e],o,r))?o.splice(s,1):(l={path:[...i,e],before:n[e],action:c.ActionType.remove},t.push((0,k.classifyDiff)(l,r.rules))),r.findFirstDiff&&t.length)break}r.strictArrays&&o.splice(0,n.length);for(let e=0;e<o.length;e++){var f={path:[...i,n.length+e],after:o[e],action:c.ActionType.add};t.push((0,k.classifyDiff)(f,r.rules))}return t}},function(e,l,n){"use strict";var f=this&&this.__rest||function(e,n){var a={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]]);return a};Object.defineProperty(l,"__esModule",{value:!0}),l.dereference=l.resolveObjValue=void 0;const t=n(1);l.resolveObjValue=(e,n,a={})=>{let r=e;a=new Map(Object.entries(a));for(const i of(0,t.parsePath)(n)){if(void 0===(r="array"===(0,t.typeOf)(r)?r[+i]:r[i]))break;r=(0,l.dereference)(r,e,new Set,a)}return r};l.dereference=(e,n,a,r)=>{if(e.hasOwnProperty("$ref")){const o=e["$ref"],s=f(e,["$ref"]);a.has(o)&&(e={$circularRef:o});var[i,t]=o.split("#");if(i){if(!r.has(i))return e;n=r.get(i)}e=Object.assign(Object.assign({},s),(0,l.resolveObjValue)(n,t)),a.add(o)}return e}},function(e,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.classifyDiff=i.findClassifier=void 0;const t=n(0);i.findClassifier=(e,n)=>{let a=e;for(var r of[...n,""]){if(a.hasOwnProperty("/"+r)&&"number"!=typeof r||(r="*"),!a.hasOwnProperty("/"+r))return t.allUnclassified;{const i=a["/"+r];if(Array.isArray(i))return i;a="function"==typeof i?i():i}}return t.allUnclassified};i.classifyDiff=(e,n={})=>{const a=e;const r=(0,i.findClassifier)(n,e.path)[["add","remove","replace"].indexOf(e.action)];return a.type="function"==typeof r?r(e.before,e.after):r,a}},function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MergeContext=r.DiffContext=r.DIFF_META_KEY=void 0;const a=n(9),i=n(4);r.DIFF_META_KEY="_diff";class t{constructor(e,n,a){this.before=e,this.after=n,this.beforeRefs=new Set,this.afterRefs=new Set,this.cache=new Map,this.findFirstDiff=!1,this.rules="string"==typeof a.rules?this.getBaseRules(a.rules):a.rules,this.trimStrings=a.trimStrings,this.caseSensitive=a.caseSensitive,this.strictArrays=a.strictArrays;var r=a.externalRefs||{};for(const i of Object.keys(r))this.cache.set(i,r[i])}getBaseRules(e){switch(e){case"OpenApi3":return a.openapi3Rules;case"AsyncApi2":return a.asyncApi2Rules;case"JsonSchema":return(0,a.jsonSchemaRules)()}}}(class extends(r.DiffContext=t){});r.MergeContext=class extends t{constructor(e,n,a){super(e,n,a),this._formatMeta=e=>Object.assign({type:e.type,action:e.action},e.action===i.ActionType.replace?{replaced:e.before}:{}),this.formatMeta=a.formatMeta||(e=>this._formatMeta(e)),this.metaKey=a.metaKey||r.DIFF_META_KEY}}},function(e,n,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,n,a,r){void 0===r&&(r=a);var i=Object.getOwnPropertyDescriptor(n,a);i&&("get"in i?n.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return n[a]}}),Object.defineProperty(e,r,i)}:function(e,n,a,r){e[r=void 0===r?a:r]=n[a]}),i=this&&this.__exportStar||function(e,n){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(n,a)||r(n,e,a)};Object.defineProperty(n,"__esModule",{value:!0}),i(a(10),n),i(a(11),n),i(a(3),n),i(a(0),n)},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.asyncApi2Rules=n.messageRules=n.messageTraitsRules=void 0;const r=a(3);var a=a(0),i={"/":a.addNonBreaking,"/location":a.addNonBreaking,"/description":a.allAnnotation},t={"/summary":a.allAnnotation,"/tags":a.allAnnotation,"/externalDocs":a.allAnnotation,"/bindings":a.allUnclassified},o=Object.assign({"/":a.addNonBreaking,"/*":a.addNonBreaking,"/operationId":a.addNonBreaking,"/description":a.allAnnotation},t),i=(n.messageTraitsRules=Object.assign({"/":a.addNonBreaking,"/*":a.addNonBreaking,"/headers":a.allUnclassified,"/correlationId":i,"/schemaFormat":a.allBreaking,"/contentType":a.addNonBreaking,"/name":a.allNonBreaking,"/title":a.allNonBreaking,"/examples":a.allAnnotation},t),n.messageRules=Object.assign({"/":a.allBreaking,"/headers":a.allUnclassified,"/correlationId":i,"/schemaFormat":a.allBreaking,"/contentType":a.addNonBreaking,"/name":a.allNonBreaking,"/title":a.allNonBreaking,"/description":a.allNonBreaking,"/examples":a.allAnnotation,"/traits":n.messageTraitsRules,"/payload":(0,r.jsonSchemaRules)(a.allBreaking)},t),Object.assign({"/":a.addNonBreaking,"/operationId":a.addNonBreaking,"/description":a.allAnnotation,"/traits":o,"/message":n.messageRules},t)),o={"/":a.addNonBreaking,"/version":a.addNonBreaking,"/termsOfService":a.addNonBreaking,"/license":{"/":a.addNonBreaking,"/name":a.allBreaking,"/url":a.onlyAddBreaking},"/title":a.allAnnotation,"/description":a.allAnnotation,"/contact":{"/":a.allAnnotation,"/name":a.allAnnotation,"/url":a.allAnnotation,"/email":a.allAnnotation}},t={"/":a.addNonBreaking,"/*":{"/":a.addNonBreaking,"/url":a.addNonBreaking,"/description":a.allAnnotation,"/protocol":a.allBreaking,"/protocolVersion":a.allBreaking,"/variables":{"/":a.addNonBreaking,"/*":{"/":a.addNonBreaking,"/enum":{"/":a.addNonBreaking,"/*":a.addNonBreaking},"/default":a.allBreaking,"/description":a.allAnnotation,"/examples":a.allAnnotation}},"/security":{"/":a.allBreaking,"/*":a.allBreaking},"/bindings":a.allUnclassified}},i={"/":a.addNonBreaking,"/description":a.allNonBreaking,"/bindings":a.allUnclassified,"/subscribe":i,"/publish":i,"/parameters":{"/":a.allBreaking,"/*":{"/":a.addNonBreaking,"/description":a.allNonBreaking,"/schema":(0,r.jsonSchemaRules)(a.allBreaking),"/location":a.allBreaking}}};n.asyncApi2Rules={"/asyncapi":a.addNonBreaking,"/id":a.allAnnotation,"/defaultContentType":a.allBreaking,"/info":o,"/servers":t,"/channels":{"/":a.addNonBreaking,"/*":i},"/components":a.allNonBreaking,"/tags":a.allAnnotation,"/externalDocs":a.allAnnotation}},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.openapi3Rules=void 0;const r=a(3),i=a(0);var a={"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/url":[i.nonBreaking,i.breaking,i.breaking],"/description":i.allAnnotation,"/variables":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/enum":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":[i.nonBreaking,i.breaking,i.breaking]},"/default":[i.breaking,i.breaking,i.breaking],"/description":i.allAnnotation}}}},t={"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/name":[i.nonBreaking,i.breaking,i.breaking],"/in":[i.nonBreaking,i.breaking,i.breaking],"/description":i.allAnnotation,"/required":[i.breaking,i.nonBreaking,i.breakingIfAfterTrue],"/deprecated":[i.breaking,i.nonBreaking,i.breakingIfAfterTrue]}},o={"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/description":i.allAnnotation,"/required":[i.breaking,i.nonBreaking,i.breakingIfAfterTrue],"/deprecated":[i.breaking,i.nonBreaking,i.breakingIfAfterTrue]}},s={"/":[i.nonBreaking,i.nonBreaking,i.nonBreaking],"/*":{"/contentType":[i.nonBreaking,i.breaking,i.breaking],"/headers":o,"/style":[i.nonBreaking,i.breaking,i.breaking],"/explode":[i.nonBreaking,i.breaking,i.breaking],"/allowReserved":[i.nonBreaking,i.breaking,i.breaking]}},s={"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/schema":(0,r.jsonSchemaRules)(i.allBreaking),"/example":i.allAnnotation,"/examples":i.allAnnotation,"/encoding":s}},l={"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/description":i.allAnnotation,"/content":s,"/required":[i.breaking,i.nonBreaking,(e,n)=>n?i.breaking:i.nonBreaking]}},s={"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/description":i.allAnnotation,"/headers":o,"/content":s}},f={"/":[i.breaking,i.nonBreaking,i.unclassified],"/*":[i.breaking,i.nonBreaking,i.unclassified]},g={"/":[i.nonBreaking,i.breaking,i.breaking],"/tags":i.allAnnotation,"/summary":i.allAnnotation,"/description":i.allAnnotation,"/externalDocs":i.allAnnotation,"/operationId":[i.nonBreaking,i.breaking,i.breaking],"/parameters":t,"/requestBody":l,"/responses":s,"/deprecated":[i.breaking,i.nonBreaking,i.breakingIfAfterTrue],"/security":f,"/servers":a};n.openapi3Rules={"/openapi":[i.nonBreaking,i.breaking,i.breaking],"/info":{"/":[i.nonBreaking,i.breaking,i.breaking],"/title":i.allAnnotation,"/description":i.allAnnotation,"/termsOfService":i.allAnnotation,"/contact":i.allAnnotation,"/licence":{"/":[i.nonBreaking,i.breaking,i.breaking],"/name":[i.breaking,i.breaking,i.breaking],"/url":[i.breaking,i.nonBreaking,i.nonBreaking]},"/version":i.allAnnotation},"/servers":a,"/paths":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":{"/":[i.nonBreaking,i.breaking,i.breaking],"/summary":i.allAnnotation,"/description":i.allAnnotation,"/*":g,"/servers":a,"/parameters":t}},"/components":{"/":[i.nonBreaking,i.nonBreaking,i.nonBreaking],"/schemas":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":(0,r.jsonSchemaRules)(i.addNonBreaking)},"/responses":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":s},"/parameters":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":t},"/examples":i.allAnnotation,"/requestBodies":{"/":[i.nonBreaking,i.breaking,i.breaking],"/*":l},"/headers":o,"/securitySchemes":{"/":[i.breaking,i.nonBreaking,i.breaking],"/*":{"/":[i.breaking,i.nonBreaking,i.breaking],"/type":[i.breaking,i.nonBreaking,i.breaking],"/description":i.allAnnotation,"/name":[i.breaking,i.nonBreaking,i.breaking],"/in":[i.breaking,i.nonBreaking,i.breaking],"/scheme":[i.breaking,i.nonBreaking,i.breaking],"/bearerFormat":i.allAnnotation,"/flows":[i.breaking,i.nonBreaking,i.breaking],"/openIdConnectUrl":i.allAnnotation}}},"/security":f,"/tags":i.allAnnotation,"/externalDocs":i.allAnnotation}},function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.apiMerge=void 0;const r=a(8),c=a(6),k=a(7),d=a(5),o=a(1),u=a(2);n.apiMerge=(e,n,a)=>{var[e]=b(e,n,new r.MergeContext(e,n,a),[]);return e};const b=(e,n,a,r=[])=>{var i,t;if((0,o.typeOf)(e)!==(0,o.typeOf)(n))return i={path:r,before:e,after:n,action:u.ActionType.replace},[n,a.formatMeta((0,k.classifyDiff)(i,a.rules))];switch((0,o.typeOf)(e)){case"object":return l(e,n,a,r);case"array":return f(e,n,a,r);default:if("string"==typeof e&&(e=s(e,a),n=s(n,a)),e!==n)return t={path:r,before:e,after:n,action:u.ActionType.replace},[n,a.formatMeta((0,k.classifyDiff)(t,a.rules))]}return[n]},s=(e,n)=>(e=n.trimStrings?e.trim():e,e=n.caseSensitive?e:e.toLowerCase()),l=(e,n,a,r)=>{const i={},t={},o=(0,c.dereference)(e,a.before,a.beforeRefs,a.cache),s=(0,c.dereference)(n,a.after,a.afterRefs,a.cache);var l,f;for(const g of new Set([...Object.keys(o),...Object.keys(s)]))"symbol"!=typeof g&&(o.hasOwnProperty(g)?s.hasOwnProperty(g)?([l,f]=b(o[g],s[g],a,[...r,g]),i[g]=l,f&&(t[g]=f)):(l={path:[...r,g],before:o[g],action:u.ActionType.remove},i[g]=o[g],t[g]=a.formatMeta((0,k.classifyDiff)(l,a.rules))):(f={path:[...r,g],after:s[g],action:u.ActionType.add},i[g]=s[g],t[g]=a.formatMeta((0,k.classifyDiff)(f,a.rules))));return e.$ref&&a.beforeRefs.delete(e.$ref),n.$ref&&a.afterRefs.delete(n.$ref),Object.keys(t).length&&(i[a.metaKey]=t),[i]},f=(a,n,r,i)=>{var t,o,s,e={array:{}};const l=e.array,f=[],g=[...n];for(let e=0;e<a.length;e++)r.strictArrays?e>=n.length?(t={path:[...i,e],before:a[e],action:u.ActionType.remove},f[e]=a[e],l[e]=r.formatMeta((0,k.classifyDiff)(t,r.rules))):([t,o]=b(a[e],n[e],r,[...i,e]),f[e]=t,o&&(l[e]=o)):(o=((n,a,r)=>{for(let e=0;e<a.length;e++){r.findFirstDiff=!0;var i=(0,d.findDiff)(n,a[e],r);if(r.findFirstDiff=!1,!i.length)return e}return-1})(a[e],g,r),f[e]=a[e],0<=o?g.splice(o,1):(s={path:[...i,e],before:a[e],action:u.ActionType.remove},l[e]=r.formatMeta((0,k.classifyDiff)(s,r.rules))));r.strictArrays&&g.splice(0,a.length);for(let e=a.length,n=0;e<a.length+g.length;e++,n++){f[e]=g[n];var c={path:[...i,e],after:g[n],action:u.ActionType.add};l[e]=r.formatMeta((0,k.classifyDiff)(c,r.rules))}return Object.keys(e.array).length?[f,e]:[f]}}]);